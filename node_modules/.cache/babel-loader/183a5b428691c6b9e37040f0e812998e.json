{"ast":null,"code":"import _slicedToArray from\"/home/michael/facebook-messenger-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./App.css';import{FormControl,Input,InputLabel,IconButton}from\"@material-ui/core\";import Message from\"./Message\";import firebase from\"firebase\";import db from\"./firebase\";import FlipMove from\"react-flip-move\";import SendIcon from'@material-ui/icons/Send';function App(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),input=_useState2[0],Setinput=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),messages=_useState4[0],setmessages=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),userName=_useState6[0],setUsername=_useState6[1];useEffect(function(){db.collection(\"messages\").orderBy('timestamp','desc').onSnapshot(function(snapshot){setmessages(snapshot.docs.map(function(doc){return{id:doc.id,message:doc.data()};}));});},[]);useEffect(function(){//const name=prompt(\"Please enter your name\")\nsetUsername(prompt(\"please enter your name\"));},[]);var sendMessage=function sendMessage(event){event.preventDefault();db.collection(\"messages\").add({message:input,userName:userName,timestamp:firebase.firestore.FieldValue.serverTimestamp()});};return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"img\",{src:\"https://facebookbrand.com/wp-content/uploads/2018/09/Header-e1538151782912.png?w=100&h=100\",style:{marginTop:'3px'}}),/*#__PURE__*/React.createElement(\"h1\",null,\"Hello Programmers\"),/*#__PURE__*/React.createElement(\"h2\",null,\"Welcome \",userName),/*#__PURE__*/React.createElement(\"div\",{className:\"form_container\"},/*#__PURE__*/React.createElement(\"form\",{className:\"app_form\"},/*#__PURE__*/React.createElement(FormControl,{className:\"app_formcontrol\"},\" \",/*#__PURE__*/React.createElement(InputLabel,null,\"Enter your Message\"),/*#__PURE__*/React.createElement(Input,{className:\"app_input\",value:input,onChange:function onChange(event){return Setinput(event.target.value);}}),/*#__PURE__*/React.createElement(IconButton,{className:\"app_iconButton\",disabled:!input,type:\"submit\",variant:\"outlined\",color:\"primary\",onClick:sendMessage},\" \",/*#__PURE__*/React.createElement(SendIcon,null),\" \")))),/*#__PURE__*/React.createElement(FlipMove,null,messages.map(function(_ref){var id=_ref.id,message=_ref.message;return/*#__PURE__*/React.createElement(Message,{key:id,userName:userName,message:message});})));}export default App;","map":{"version":3,"sources":["/home/michael/facebook-messenger-clone/src/App.js"],"names":["React","useState","useEffect","FormControl","Input","InputLabel","IconButton","Message","firebase","db","FlipMove","SendIcon","App","input","Setinput","messages","setmessages","userName","setUsername","collection","orderBy","onSnapshot","snapshot","docs","map","doc","id","message","data","prompt","sendMessage","event","preventDefault","add","timestamp","firestore","FieldValue","serverTimestamp","marginTop","target","value"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport './App.css';\nimport {FormControl,Input,InputLabel,IconButton} from \"@material-ui/core\"\nimport Message from \"./Message\"\nimport firebase from \"firebase\"\nimport db from \"./firebase\"\nimport FlipMove from \"react-flip-move\"\nimport SendIcon from '@material-ui/icons/Send';\n\nfunction App() {\n  const [input,Setinput]=useState(\"\")\n  const [messages,setmessages]=useState([])\n  const [userName,setUsername]=useState(\"\")\nuseEffect(()=>{\ndb.collection(\"messages\").orderBy('timestamp','desc').onSnapshot(snapshot=>\n{\n  setmessages(snapshot.docs.map(doc =>({id:doc.id,message: doc.data()})))\n})\n},[])\n\nuseEffect(() => {\n //const name=prompt(\"Please enter your name\")\n setUsername(prompt(\"please enter your name\"))\n}\n, [])\n\n\n  const sendMessage=event =>\n  {\n    event.preventDefault()\n    db.collection(\"messages\").add({\n      message:input,\n      userName:userName,\n      timestamp:firebase.firestore.FieldValue.serverTimestamp()\n    })\n  }\n  return (\n    <div className=\"App\">\n    <img src=\"https://facebookbrand.com/wp-content/uploads/2018/09/Header-e1538151782912.png?w=100&h=100\" style={{marginTop:'3px'}} />\n    <h1>Hello Programmers</h1>\n    <h2>Welcome {userName}</h2>\n    <div className=\"form_container\">\n      <form className=\"app_form\">\n        <FormControl className=\"app_formcontrol\"> <InputLabel >Enter your Message</InputLabel>\n        <Input className=\"app_input\" value={input} onChange={event=>Setinput(event.target.value)} />\n      <IconButton className=\"app_iconButton\" disabled={!input} type=\"submit\" variant=\"outlined\" color=\"primary\" onClick={sendMessage}> <SendIcon /> </IconButton>\n        </FormControl>\n      </form>\n    </div>\n    <FlipMove>\n    {messages.map(({id,message}) =>(\n      <Message key={id} userName={userName} message={message}/>\n    ))}\n    </FlipMove>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}